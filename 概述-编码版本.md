从新版sp框架开始，已经不再区分框架本身的编码，基本上以UTF8为标准版本。

**对UTF8乱码情况的检查**

如果发现UTF8的程序出现乱码，可以循以下几点检查：
 
1. 
数据表中，表本身的编码 和 字段编码，均为UTF8。
2. 
在写入数据等数据库操作前，发送语句 'set names utf8' 或 对mysql链接进行UTF8定义，当然，sp框架本身会进行这样的处理。
3. 
PHP文件（包括入口文件、控制器/模型类文件、第三方类库）和模板文件（包括模板目录中的html/tpl等等模板文件和Javascript/CSS等文件）都是UTF8编码，无签名（无BOM），去除BOM的方法下面有介绍。
4. 
页面上使用header或<meta>保证输出的页面是UTF8编码。<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
5. 
还有一种较少见的，服务器不支持UTF8。
 
> 另外，还有一种情况：“从GB2312的文件中，把一些代码复制到UTF8的文件中”，这种情况也是很隐蔽的，看起来好像没问题，却会出现乱码。问题是发生在那些代码本身不是UT8的问题上――解决的方式是通过windows记事本另存为UTF8一次，这样才能把那文件修复回真正的UTF8。

**去除BOM的方法**

[下载ripbom程序](images/6.zip)，放到需要去除文件BOM的目录中，访问就可以自动去除目录下全部文件的BOM了。 